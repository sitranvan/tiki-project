const header = document.querySelector(".header"), hederMobileTablet = document.querySelector(".header-mobile-tablet"), headerHideOn = document.querySelector(".header-hide-on"), headerBackMobileTable = document.querySelector(".header-hide-on__back"), mobileTabletInput = document.querySelector(".header-mobile-tablet__search input"), headerInput = document.querySelector(".header-search__input"), headerHideOnInput = document.querySelector(".header-hide-on__input"), historyPc = document.querySelector(".history--pc"), historyMobileTablet = document.querySelector(".history--mobile-tablet"), historyMorePcMobileTablet = historyMobileTablet.querySelector(".history-more"), historyMorePc = historyPc.querySelector(".history-more"), showMoreHisoryPc = historyPc.querySelector(".show-more-history"), showMoreHisoryMobileTablet = historyMobileTablet.querySelector(".show-more-history"), clear = document.querySelector(".header-hide-on__clear"), overlayNotHeader = document.querySelector(".overlay-not-header"), container = document.querySelector(".container"), categoryList = document.querySelector(".category-head__list"), categoryNext = document.querySelector(".category-head__next"), categoryPrev = document.querySelector(".category-head__prev"), sliderAuto = document.querySelector(".slider-auto"), sliderMain = document.querySelector(".slider-main"); let sliderItems = document.querySelectorAll(".slider-item"); const nextSlider = document.querySelector(".slider-next"), prevSlider = document.querySelector(".slider-prev"), dotItems = document.querySelectorAll(".slider-dot__item"), sliderItemImg = document.querySelector(".slider-item img"), nextBrandProduct = document.querySelector(".brand-product__icon--next"), prevBrandProduct = document.querySelector(".brand-product__icon--prev"), brandProductMain = document.querySelector(".brand-product__main"), brandProductList = document.querySelector(".brand-product__list"), discountList = document.querySelector(".discount-list"), nextBtnDiscountProduct = document.querySelector(".discount-icon--next"), prevBtnDiscountProduct = document.querySelector(".discount-icon--prev"), contentVideo = document.querySelector(".discount-right"), controlVideo = document.querySelector(".discount-play"), playVideo = document.querySelector(".discount-play__icon--play"), pauseVideo = document.querySelector(".discount-play__icon--pause"), formLogin = document.querySelector(".form--login"), formEmail = document.querySelector(".form-email"), formRegister = document.querySelector(".form--register"), switchEmail = document.querySelector(".form-switch"), loginBtn = document.querySelector(".header-reglog h5"), registerBtn = document.querySelector(".header-reglog h6"), accountBtn = document.querySelector(".header-account"), cartBtn = document.querySelector(".header-cart"), backLoginBtn = document.querySelector(".form-email__back"), cardMobileTablet = document.querySelector(".header-mobile-tablet__cart"), formClosePc = document.querySelectorAll(".form-close"), menuCategoryItem = document.querySelector(".menu-item--category"), menuListCategory = document.querySelector(".list-category-mobile-tablet"), menuManageAccount = document.querySelector(".test-account"), menuHomeItem = document.querySelector(".menu-item--home"), menuAccountItem = document.querySelector(".menu-item--account"), backFormMobileTablet = document.querySelector(".form-mobile-tablet__back"), formMobileTablet = document.querySelector(".form-mobile-tablet"), switchEmailMobileTablet = document.querySelector(".form-mobile-tablet__switch"), menuHeadMobileTablet = document.querySelector(".menu-head"), sliderBrandMain = document.querySelector(".brand-slider__main"); let sliderBrandItem = document.querySelectorAll(".brand-slider__item"); const sliderBrandList = document.querySelector(".brand-slider__list"), nextSliderBrand = document.querySelector(".slider-icon--brand-next"), prevSliderBrand = document.querySelector(".slider-icon--brand-prev"), dotBrandItem = document.querySelectorAll(".brand-slider__dot-item"); let sliderBrandItemMT = document.querySelectorAll(".brand-slider-mobile-tablet__item"); const sliderBrandListMT = document.querySelector(".brand-slider-mobile-tablet__list"), dotBrandItemMT = document.querySelectorAll(".brand-dot-mobile-tablet__item"), brandTitleMT = document.querySelector(".brand-slider-mobile-tablet__title"), navigationCate = document.querySelector(".navigation-cate"), closeNavigationCate = document.querySelector(".navigation-cate__head__close"), allNavigation = document.querySelectorAll(".navigation-item"), iconHomeActive = document.querySelector(".home-active"), iconHomeSolid = document.querySelector(".home-solid"), iconCategoryActive = document.querySelector(".category-active"), iconCategorySolid = document.querySelector(".category-solid"), discountContent = document.querySelector(".discount-content"), video = document.querySelector("#video"), overlayFull = document.querySelector(".overlay-full"), menuBars = document.querySelector(".header-hide-on__bars"), switchHideShow = document.querySelector(".form-email__password span"), formInputPassword = document.querySelector(".form-email__password input"), formTitleEmailMobileTablet = formMobileTablet.querySelector("h5"), formInputMobileTablet = formMobileTablet.querySelector("input"), cartMTSearch = document.querySelector(".header-hide-on__cart"), menuMobileTablet = document.querySelector(".menu-mobile-tablet"); var styleBeforeAffter = document.head.appendChild(document.createElement("style")); function showSearchMobileTablet() { mobileTabletInput.addEventListener("focus", e => { container.style.display = "none", headerHideOn.classList.add("show-on"), hederMobileTablet.style.display = "none", document.body.style.overflow = "hidden", headerHideOnInput.focus() }), headerBackMobileTable.addEventListener("click", e => { headerHideOn.classList.remove("show-on"), hederMobileTablet.style.display = "flex", document.body.style.overflow = "auto", container.style.display = "block" }) } function showHistoryPc() { headerInput.addEventListener("focus", e => { historyPc.classList.add("show-on"), overlayNotHeader.classList.add("show-on") }), overlayNotHeader.addEventListener("click", e => { historyPc.classList.remove("show-on"), overlayNotHeader.classList.remove("show-on") }), header.addEventListener("click", e => { e.target.matches(".header-search__input") || e.target.matches(".history-more") || (historyPc.classList.remove("show-on"), overlayNotHeader.classList.remove("show-on")) }) } function showMoreListHistory(e, t) { e.addEventListener("click", r => { t.classList.toggle("show-on"), t.classList.contains("show-on") ? (e.firstElementChild.textContent = "Thu gọn", e.lastElementChild.classList.add("fa-angle-up")) : (e.firstElementChild.textContent = "Xem th\xeam", e.lastElementChild.classList.remove("fa-angle-up"), e.lastElementChild.classList.add("fa-angle-down")) }) } function clearInputMobileTablet() { headerHideOnInput.addEventListener("input", function (e) { let t = this.value; "" == t ? clear.style.display = "none" : (clear.style.display = "block", clear.onclick = function (e) { headerHideOnInput.value = "", clear.style.display = "none" }) }) } window.addEventListener("DOMContentLoaded", e => { showSearchMobileTablet(), showHistoryPc(), showMoreListHistory(historyMorePc, showMoreHisoryPc), showMoreListHistory(historyMorePcMobileTablet, showMoreHisoryMobileTablet), clearInputMobileTablet() }); const scroll = categoryList.clientWidth; categoryNext.onclick = function (e) { categoryList.scrollLeft += scroll, categoryPrev.style.opacity = 1, categoryNext.style.opacity = 0 }, categoryPrev.onclick = function (e) { categoryList.scrollLeft -= scroll, categoryPrev.style.opacity = 0, categoryNext.style.opacity = 1 }; let index = 1; const sliderAutoWidth = sliderItems[index].getBoundingClientRect().width, firstClone = sliderItems[0].cloneNode(!0), lastClone = sliderItems[sliderItems.length - 1].cloneNode(!0); firstClone.id = "first-slide", lastClone.id = "last-slide", sliderMain.style.transform = `translateX(${-sliderAutoWidth * index}px)`, sliderMain.append(firstClone), sliderMain.prepend(lastClone); const allSlider = () => sliderItems = document.querySelectorAll(".slider-item"); function autoNextSlider() { autoNext = setInterval(() => { nextSlider.click() }, 5e3) } sliderMain.addEventListener("transitionend", e => { allSlider(), sliderItems[index].id === firstClone.id ? (index = 1, sliderMain.style.transition = "none", sliderMain.style.transform = `translateX(${-sliderAutoWidth * index}px)`) : sliderItems[index].id === lastClone.id && (index = sliderItems.length - 2, sliderMain.style.transition = "none", sliderMain.style.transform = `translateX(${-sliderAutoWidth * index}px)`) }), nextSlider.addEventListener("click", e => { !(index >= sliderItems.length - 1) && (index++, sliderMain.style.transform = `translateX(${-sliderAutoWidth * index}px)`, sliderMain.style.transition = "transform .3s linear", document.querySelector(".slider-dot__item.active").classList.remove("active"), index > dotItems.length ? dotItems[0].classList.add("active") : dotItems[index - 1].classList.add("active")) }), prevSlider.addEventListener("click", e => { !(index <= 0) && (index--, sliderMain.style.transform = `translateX(${-sliderAutoWidth * index}px)`, sliderMain.style.transition = "transform .3s linear", document.querySelector(".slider-dot__item.active").classList.remove("active"), index <= 0 ? dotItems[dotItems.length - 1].classList.add("active") : dotItems[index - 1].classList.add("active")) }), dotItems.forEach(e => e.onclick = t => { document.querySelector(".slider-dot__item.active").classList.remove("active"), e.classList.add("active"); index = Number(t.target.dataset.index), sliderMain.style.transform = `translateX(${-sliderAutoWidth * index}px)`, sliderMain.style.transition = "transform .3s linear" }), autoNextSlider(), sliderAuto.addEventListener("mouseenter", function (e) { nextSlider.style.opacity = 1, prevSlider.style.opacity = 1, clearInterval(autoNext) }), sliderAuto.addEventListener("mouseleave", function (e) { nextSlider.style.opacity = .5, prevSlider.style.opacity = .5, autoNextSlider() }); const widthDiscountList = discountList.clientWidth; function handleNextDiscountProduct() { discountList.scrollLeft += widthDiscountList, nextBtnDiscountProduct.style.opacity = 0, prevBtnDiscountProduct.style.opacity = 1 } function handlePrevDiscountProduct() { discountList.scrollLeft -= widthDiscountList, nextBtnDiscountProduct.style.opacity = 1, prevBtnDiscountProduct.style.opacity = 0 } nextBtnDiscountProduct.addEventListener("click", handleNextDiscountProduct), prevBtnDiscountProduct.addEventListener("click", handlePrevDiscountProduct); let isPlaying = !0; function removeMenu() { menuMobileTablet.classList.remove("show-on"), overlayFull.classList.remove("show-on") } contentVideo.addEventListener("click", e => { isPlaying ? (video.play(), isPlaying = !1, playVideo.style.display = "none", pauseVideo.style.display = "block", controlVideo.style.opacity = 0) : (video.pause(), isPlaying = !0, playVideo.style.display = "block", pauseVideo.style.display = "none", controlVideo.style.opacity = 1) }), video.addEventListener("ended", e => { controlVideo.style.opacity = 1, playVideo.style.display = "block", pauseVideo.style.display = "none" }), menuBars.addEventListener("click", e => { menuMobileTablet.classList.add("show-on"), overlayFull.classList.add("show-on") }), overlayFull.addEventListener("click", e => { menuMobileTablet.classList.remove("show-on"), overlayFull.classList.remove("show-on") }), loginBtn.addEventListener("click", e => { formLogin.classList.add("show-on"), overlayFull.classList.add("show-on") }), switchEmail.addEventListener("click", e => { formLogin.classList.remove("show-on"), formEmail.classList.add("show-on") }), backLoginBtn.addEventListener("click", e => { formEmail.classList.remove("show-on"), formLogin.classList.add("show-on") }), registerBtn.addEventListener("click", e => { formRegister.classList.add("show-on"), overlayFull.classList.add("show-on") }), accountBtn.addEventListener("click", e => loginBtn.click()), cartBtn.addEventListener("click", e => loginBtn.click()), cartMTSearch.addEventListener("click", e => { formMobileTablet.classList.add("show-on") }), cardMobileTablet.addEventListener("click", e => menuAccountItem.click()), formClosePc.forEach(e => e.addEventListener("click", () => overlayFull.click())), overlayFull.addEventListener("click", e => { formLogin.classList.remove("show-on"), formEmail.classList.remove("show-on"), formRegister.classList.remove("show-on") }), menuCategoryItem.addEventListener("click", e => { removeMenu(), menuListCategory.classList.add("show-on"), headerHideOn.addEventListener("click", e => { }) }), menuHomeItem.addEventListener("click", e => { removeMenu(), menuListCategory.classList.remove("show-on") }), headerHideOnInput.addEventListener("focus", e => { menuListCategory.classList.contains("show-on") && menuListCategory.classList.remove("show-on") }), menuHeadMobileTablet.addEventListener("click", e => menuAccountItem.click()), menuAccountItem.addEventListener("click", function (e) { formMobileTablet.classList.add("show-on"), switchEmailMobileTablet.addEventListener("click", e => { "Đăng nhập bằng email" === switchEmailMobileTablet.textContent ? (formTitleEmailMobileTablet.textContent = "Nhập email của bạn để tiếp tục", formInputMobileTablet.type = "email", formInputMobileTablet.placeholder = "abc@gmail.com", switchEmailMobileTablet.textContent = "Đăng nhập bằng số điện thoại", formInputMobileTablet.value = "") : "Đăng nhập bằng số điện thoại" === switchEmailMobileTablet.textContent && (formTitleEmailMobileTablet.textContent = "Đăng nhập hoặc tạo t\xe0i khoản", formInputMobileTablet.type = "phone", formInputMobileTablet.placeholder = "Số điện thoại", switchEmailMobileTablet.textContent = "Đăng nhập bằng email", formInputMobileTablet.value = "") }) }), backFormMobileTablet.addEventListener("click", e => { formMobileTablet.classList.remove("show-on"), menuCategoryItem.classList.remove("show-on") }), switchHideShow.addEventListener("click", e => { "password" === formInputPassword.type ? formInputPassword.type = "text" : "text" === formInputPassword.type && (formInputPassword.type = "password") }); let indexBrand = 1; const sliderBrandWidth = sliderBrandMain.getBoundingClientRect().width, firstCloneBrand = sliderBrandItem[0].cloneNode(!0), lastCloneBrand = sliderBrandItem[sliderBrandItem.length - 1].cloneNode(!0); firstCloneBrand.id = "first-slide-brand", lastCloneBrand.id = "last-slide-brand", sliderBrandList.style.transform = `translateX(${-sliderBrandWidth * indexBrand}px)`, sliderBrandList.append(firstCloneBrand), sliderBrandList.prepend(lastCloneBrand); const allSliderBrand = () => sliderBrandItem = document.querySelectorAll(".brand-slider__item"); function autoNextSliderBrand() { autoNextBrand = setInterval(() => { nextSliderBrand.click() }, 5e3) } sliderBrandList.addEventListener("transitionend", e => { allSliderBrand(), sliderBrandItem[indexBrand].id === firstCloneBrand.id ? (indexBrand = 1, sliderBrandList.style.transition = "none", sliderBrandList.style.transform = `translateX(${-sliderBrandWidth * indexBrand}px)`) : sliderBrandItem[indexBrand].id === lastCloneBrand.id && (indexBrand = sliderBrandItem.length - 2, sliderBrandList.style.transition = "none", sliderBrandList.style.transform = `translateX(${-sliderBrandWidth * indexBrand}px)`) }), nextSliderBrand.onclick = () => { !(indexBrand >= sliderBrandItem.length - 1) && (indexBrand++, sliderBrandList.style.transform = `translateX(${-sliderBrandWidth * indexBrand}px)`, sliderBrandList.style.transition = "transform .3s linear", document.querySelector(".brand-slider__dot-item.active").classList.remove("active"), indexBrand > dotBrandItem.length ? dotBrandItem[0].classList.add("active") : dotBrandItem[indexBrand - 1].classList.add("active")) }, prevSliderBrand.onclick = () => { !(indexBrand <= 0) && (indexBrand--, sliderBrandList.style.transform = `translateX(${-sliderBrandWidth * indexBrand}px)`, sliderBrandList.style.transition = "transform .3s linear", document.querySelector(".brand-slider__dot-item.active").classList.remove("active"), indexBrand <= 0 ? dotBrandItem[dotBrandItem.length - 1].classList.add("active") : dotBrandItem[indexBrand - 1].classList.add("active")) }, dotBrandItem.forEach(e => e.onclick = t => { document.querySelector(".brand-slider__dot-item.active").classList.remove("active"), e.classList.add("active"); indexBrand = Number(t.target.dataset.index), sliderBrandList.style.transform = `translateX(${-sliderBrandWidth * indexBrand}px)`, sliderBrandList.style.transition = "transform .3s linear" }), autoNextSliderBrand(), sliderBrandMain.addEventListener("mouseenter", function (e) { console.log(1), nextSliderBrand.style.opacity = 1, prevSliderBrand.style.opacity = 1, clearInterval(autoNextBrand) }), sliderBrandMain.addEventListener("mouseleave", function (e) { nextSliderBrand.style.opacity = .5, prevSliderBrand.style.opacity = .5, autoNextSliderBrand() }); let checkScroll = 0, scrollBrandList = brandProductMain.clientWidth; nextBrandProduct.addEventListener("click", e => { checkScroll++, prevBrandProduct.style.opacity = 1, brandProductList.scrollLeft += scrollBrandList, checkScroll >= 2 && (nextBrandProduct.style.opacity = 0) }), prevBrandProduct.addEventListener("click", e => { checkScroll--, nextBrandProduct.style.opacity = 1, brandProductList.scrollLeft -= scrollBrandList, 0 == checkScroll && (prevBrandProduct.style.opacity = 0) }); let indexBrandMT = 1; const sliderBrandWidthMT = sliderBrandItemMT[0].getBoundingClientRect().width, firstCloneBrandMT = sliderBrandItemMT[0].cloneNode(!0), lastCloneBrandMT = sliderBrandItemMT[sliderBrandItemMT.length - 1].cloneNode(!0); firstCloneBrandMT.id = "first-slide-brand-mt", lastCloneBrandMT.id = "last-slide-brand-mt", sliderBrandListMT.style.transform = `translateX(${-sliderBrandWidthMT * indexBrandMT}px)`, sliderBrandListMT.append(firstCloneBrandMT), sliderBrandListMT.prepend(lastCloneBrandMT); const allSliderBrandMT = () => sliderBrandItemMT = document.querySelectorAll(".brand-slider-mobile-tablet__item"); sliderBrandListMT.addEventListener("transitionend", e => { allSliderBrandMT(), sliderBrandItemMT[indexBrandMT].id === firstCloneBrandMT.id ? (indexBrandMT = 1, sliderBrandListMT.style.transition = "none", sliderBrandListMT.style.transform = `translateX(${-sliderBrandWidthMT * indexBrandMT}px)`) : sliderBrandItemMT[indexBrandMT].id === lastCloneBrandMT.id && (indexBrandMT = sliderBrandItemMT.length - 2, sliderBrandListMT.style.transition = "none", sliderBrandListMT.style.transform = `translateX(${-sliderBrandWidthMT * indexBrandMT}px)`) }); const allTitle = ["Deal da t\xf3c đẹp xinh - Deal thương hiệu nữa gi\xe1", "Deal ngon bất ngờ - Đi chợ tại nh\xe0", "Deal c\xf4ng nghệ - H\xe0ng hiệu giảm tiền triệu", "Deal đồ d\xf9ng cho bạn - Deal hời gi\xe1 sốc", "Deal xế xịn - Săn sale hời", "Deal xịn cho da - Qu\xe0 ưu đ\xe3i ngập tr\xe0n", "Deal thương hiệu Vietravel - Ưu đ\xe3i cực s\xe2u", "Deal thương hiệu Gas24h - Ưu đ\xe3i cực lớn"]; function nextSliderBrandMT() { !(indexBrandMT >= sliderBrandItemMT.length - 1) && (brandTitleMT.textContent = allTitle[indexBrandMT], indexBrandMT++, sliderBrandListMT.style.transform = `translateX(${-sliderBrandWidthMT * indexBrandMT}px)`, sliderBrandListMT.style.transition = "transform .3s linear", document.querySelector(".brand-dot-mobile-tablet__item.active").classList.remove("active"), indexBrandMT > dotBrandItemMT.length ? (dotBrandItemMT[0].classList.add("active"), brandTitleMT.textContent = allTitle[0]) : dotBrandItemMT[indexBrandMT - 1].classList.add("active")) } function autoNextSliderBrandMT() { autoNextBrandMT = setInterval(() => { nextSliderBrandMT() }, 5e3) } function activeHome() { iconHomeActive.style.display = "block", iconHomeSolid.style.display = "none", iconCategoryActive.style.display = "none", iconCategorySolid.style.display = "block" } function activeCate() { iconHomeActive.style.display = "none", iconHomeSolid.style.display = "block", iconCategoryActive.style.display = "block", iconCategorySolid.style.display = "none" } function handleNavigationCate() { navigationCate.classList.add("show-on"), document.body.style.overflow = "hidden", overlayFull.classList.add("show-on"), menuMobileTablet.classList.contains("show-on") && menuMobileTablet.classList.remove("show-on") } brandTitleMT.textContent = allTitle[0], dotBrandItemMT.forEach(e => e.onclick = t => { document.querySelector(".brand-dot-mobile-tablet__item.active").classList.remove("active"), e.classList.add("active"); indexBrandMT = Number(t.target.dataset.index), sliderBrandListMT.style.transform = `translateX(${-sliderBrandWidthMT * indexBrandMT}px)`, sliderBrandListMT.style.transition = "transform .3s linear" }), autoNextSliderBrandMT(), allNavigation.forEach(e => { e.addEventListener("click", t => { let r = e.classList; switch (!0) { case r.contains("navigation-home"): activeHome(), overlayFull.click(); break; case r.contains("navigation-category"): activeCate(), handleNavigationCate(); break; case r.contains("navigation-news"): case r.contains("navigation-chat"): case r.contains("navigation-profile"): menuAccountItem.click() } }) }), overlayFull.addEventListener("click", e => { navigationCate.classList.remove("show-on"), document.body.style.overflow = "auto", activeHome() }), closeNavigationCate.addEventListener("click", () => overlayFull.click()), document.querySelector(".detail-content__submit").addEventListener("click", e => { formLogin.classList.add("show-on"), overlayFull.classList.add("show-on") });